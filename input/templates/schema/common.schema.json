{
  "$schema": "http://json-schema.org/draft-04/schema#",

  "definitions": {
    "image": {
      "type": "object",
      "properties": {
        "thumbImage": {"type": "string"},
        "bigImage": {"type": "string"}
      },
      "required": ["thumbImage", "bigImage"]
    },

    "selectable": {
      "type": "object",
      "properties": {
        "text": {"type": "string"},
        "description": {"type": "string"},
        "value": {"type": "string"},
        "selected": {"type": "boolean"}
      },
      "required": ["text", "selected"]
    },

    "detail": {
      "type": "object",
      "properties": {
        "text": {"type": "string"},
        "description": {"type": "string"}
      },
      "required": ["text"]
    },

    "link": {
      "type": "object",
      "properties": {
        "text": {"type": "string"},
        "url": {"type": "string"}
      },
      "required": ["text", "url"]
    },

    "link-tree": {
      "allOf": [
        {"$ref": "#/definitions/link"},
        {
          "properties": {
            "children": {
              "type": "array",
              "items": {"$ref": "#/definitions/link-tree"}
            }
          }
        }
      ]
    },

    "product": {
      "type": "object",
      "properties": {
        "text": {"type": "string"},
        "description": {"type": "string"},
        "sku": {"type": "string"},
        "price": {"type": "string"},
        "priceOld": {"type": "string"},
        "size": {"type": "string"},
        "color": {"type": "string"},
        "gender": {"type": "string"},
        "style": {"type": "string"},
        "season": {"type": "string"},
        "available": {"type": "boolean"},
        "ratingCount": {
          "type": "integer",
          "minimum": 0
        },
        "ratingAverage": {
          "type": "number",
          "minimum": 0
        },
        "ratingUrl": {"type": "string"},
        "images": {
          "type": "array",
          "items": {"$ref": "#/definitions/image"},
          "minItems": 1
        },
        "colors": {
          "type": "array",
          "items": {"$ref": "#/definitions/selectable"}
        },
        "sizes": {
          "type": "array",
          "items": {"$ref": "#/definitions/selectable"}
        },
        "details": {
          "type": "array",
          "items": {"$ref": "#/definitions/detail"}
        }
      },
      "required": ["text", "price", "images"]
    }
  }
}